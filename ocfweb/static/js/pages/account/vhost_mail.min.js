// Minified version of https://static.ocf.berkeley.edu/js/pages/account/vhost_mail.js using Closure Compiler
(function(){function f(a,b){a.j(function(a,d){d=$(d);d.is("input")?d.a(b):d.text(b)})}function g(a){var b=$('<input type="email" />');b.c("form-control");b.b("placeholder","john@gmail.com");a&&b.a(a);a=$("<div />");a.c("col-xs-11 forward-to-input-col");a.append(b);b=$('<button type="button" />');b.c("btn btn-small btn-block btn-default");b.b("disabled","disabled");var c=$("<span />");c.b("aria-hidden","true");c.c("glyphicon glyphicon-minus");b.append(c);b.click(function(){"true"!==d.b("data-hiding")&&(d.b("data-hiding","true").stop(!0).u(200,function(){d.remove()}),e(this))}.bind(this));c=$("<div />");c.c("forward-to-remove-col col-xs-1");c.append(b);var d=$('<div class="row" />');d.l();d.append(a);d.append(c);this.append(d);d.s(200);e(this)}function e(a){1<a.find('.row[data-hiding!="true"]').length?a.find("button").h("disabled"):a.find("button").b("disabled","disabled")}function h(){var a=$(this),b=[];a.find(".js-forward-to-addresses input").j(function(a,d){d=$(d);b.push(d.a())});a.find(".js-forward-to").a(b.join(","))}function k(){var a=$(this),b=a.find("input[name=name]").a(),c=a.data("domain");-1!==b.indexOf("@")?(a.find(".js-warn-addr").show(),a.find("button").b("disabled","disabled")):(a.find(".js-addr").a(b+"@"+c),a.find(".js-warn-addr").l(),a.find("button").h("disabled"))}function l(a,b){var c=$("#js-modal-add-address");c.data("domain",a);f(c.find(".js-domain"),a);b?c.c("js-wildcard"):c.o("js-wildcard");c.find("input[name=password],input[name=name]").a("");c.find("button").h("disabled");c.find("input[name=name]").i("input").m("input",k.bind(c));var d=c.find(".js-forward-to-addresses"),e=g.bind(d);d.empty();e();c.find(".js-add-another").i("click").click(function(){e()});c.parent("form").i("submit").submit(function(){h.bind(this)();k.bind(this)()}.bind(c));c.g()}$(document).ready(function(){$(".js-change-password").click(function(){var a=$("#js-modal-change-password");f(a.find(".js-email"),$(this).data("addr"));a.find("input[name=password]").a("");a.g()});$(".js-remove-address").click(function(){var a=$("#js-modal-remove-address");f(a.find(".js-email"),$(this).data("addr"));a.g()});$(".js-add-address").click(function(){l($(this).data("domain"),!1)});$(".js-edit-forward-to").click(function(){var a=$("#js-modal-edit-forward-to");f(a.find(".js-email"),$(this).data("addr"));var b=a.find(".js-forward-to-addresses"),c=g.bind(b);b.empty();for(var b=$(this).data("forward-to").split(","),d=0;d<b.length;d++)c(b[d]);a.find(".js-add-another").click(function(){c()});a.find("button[type=submit]").click(h.bind(a));a.g()});$(".js-catchall-whats-this").f({title:"<strong>Catch-all forwarding addresses</strong>",content:"             <p>A catch-all address is used when a message arrives that doesn't match any other forwarding rule.</p>             <p>You're not required to have one, but you can use one if you'd like.</p>         ",html:!0}).click(function(){$(this).f("toggle")});$(".js-add-catchall").f({title:"<strong>Catch-all forwarding addresses</strong>",content:"             <p>A catch-all address is used when a message arrives that doesn't match any other forwarding rule.</p>             <p>You're not required to have one, but you can use one if you'd like.</p>                          <a class=\"btn btn-large btn-block btn-success js-add-catchall-btn\">Add a catch-all address</a>             ",html:!0}).click(function(){$(this).f("toggle");$(".js-add-catchall-btn").click(function(){$(this).f("hide");l($(this).data("domain"),!0)}.bind(this))})})})();
